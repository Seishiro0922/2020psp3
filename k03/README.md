# 課題3 レポート
学生番号　氏名


## 課題  

以下の2つのアルゴリズムで文字列を検索するプログラムを作成する。  
- 力ずく法
- BM法

1. 使用するデータ  
以下のデータを使用する。ただし、検索対象文字列、検索する文字列は変更しても良い。  
    - StrOriginal: 検索対象データ
    - StrKey: 検索する文字列

2. 必須問題：実装する関数  
本課題では、以下の関数を実装する。C言語の標準ライブラリは使用しないこと。  
    (1) ForceSearch: 力ずく法で文字列を検索する。  
    [入力]  
    - char text[]: 検索対象文字列  
    - char key[]: 検索する文字列  

    [出力]  
    - return値：検索する文字列が出現した場所(ポインタ)。ただし、検索する文字列が見つからない場合はNULL。  

    (2) BMSearch: BM法で文字列を検索する。  
    [入力]  
    - char text[]: 検索対象文字列  
    - char key[]: 検索する文字列  
 
    [出力]  
    - return値：検索する文字列が出現した場所(ポインタ)。ただし、検索する文字列が見つからない場合はNULL。  

3. 補助関数  
なし

## ソースコードの説明
textを文字列とし、keyを検索する文字列とする



11~33行目　　力ずく法

15~18行目　　　文字列と検索する文字列の長さを求める

21行目　　　　　文字列のindexがtextlenになるまでwhile文を実行

22行目　　　　　検索する文字列のindexがkeylenになるまでwhile文を実行

23～25行目　　文字列と検索する文字列の1文字目から比べていき、一致したら次の文字を比べて、検索する文字列と文字列がすべて一致したら、文字列の見つかった場所を返す

26～28行目　　文字が一致しない場合、検索する文字列の比べる位置を最初の位置に戻す。文字列の比べる位置を前回の比較位置から1つ進める。二つ目のwhile文をbreakする

32行目　　　　文字列と検索する文字列が一致しなかった場合NULLを返す



35～73行目　　BM法

43～49行目　　ずらし量をtableで表す。検索する文字列にない文字はkeylen+1(今回は4)ずらす。検索する文字列にある文字はずらし量を、最初の文字から　keylen,keylen-1,keylen-2,・・・とする。

51行目　　　　検索する文字列の最後の文字から比べていく。検索する位置がtextlenまで実行を繰り返す。文字列の次の比較位置は比較終了位置とずらし量の和
　

52行目　　　　文字列のindexに比較位置を代入。検索する文字列がすべて一致したら終了。for文を実行した後、文字列の比較位置を1つ前にする　　

53～57行目　　文字が一致した場合、検索する文字列の比較位置を1つ前にする。すべて一致したら、検索する文字列の出現した場所を返す

60～66行目　　文字が一致しなかった場合、検索する文字列の比較位置を最後の文字に戻す。今回のずらし量を求める。次の比較位置が今回の比較位置以下になるときループするエラーが起きるので、次の比較位置を前回の比較位置の+1する。

72行目　　　　すべて一致しない場合、NULLを返す
　　　　　　　
　　　　　　　　　




## 出力結果

```
Force Search. Find keyword at:wind in my hair.
BM Search. Find keyword at:wind in my hair.

```

## 修正履歴

